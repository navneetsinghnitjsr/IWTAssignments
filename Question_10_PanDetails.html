<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question 10_PAN_Details(Assignment 3)</title>
</head>
<script type="text/javascript">
    function Validate() {
        var txtPANCard = document.getElementById("txtPANCard");
        var lblPANCard = document.getElementById("lblPANCard")
        var regex = /([A-Z]){5}([0-9]){4}([A-Z]){1}$/;
        if (regex.test(txtPANCard.value.toUpperCase())) {
            lblPANCard.style.visibility = "hidden";
        } else {
            lblPANCard.style.visibility = "visible";
        }

        var regName = /^[a-zA-Z]+ [a-zA-Z]+$/;
    var name = document.getElementById('name').value;
    if(!regName.test(name)){
        nameErrMsg.innerHTML = "name is invalid";
    }else{
        nameErrMsg.innerHTML = "Valid name given";
    }

        var birthday = document.getElementById("dob").value; // Don't get Date yet...
        var regexVar = /^([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/; // add anchors; use literal
        var regexVarTest = regexVar.test(birthday); // pass the string, not the Date
        var userBirthDate = new Date(birthday.replace(regexVar, "$3-$2-$1")); // Use YYYY-MM-DD format
        var todayYear = (new Date()).getFullYear(); // Always use FullYear!!
        var cutOff19 = new Date(); // should be a Date
        cutOff19.setFullYear(todayYear - 19); // ...
        var cutOff95 = new Date();
        cutOff95.setFullYear(todayYear - 95);
        if (!regexVarTest) { // Test this before the other tests
          dobErrMsg.innerHTML = "enter date of birth as dd/mm/yyyy";
        } else if (isNaN(userBirthDate)) {
          dobErrMsg.innerHTML = "date of birth is invalid";
        } else if (userBirthDate > cutOff19) {
          dobErrMsg.innerHTML = "you have to be older than 19";
        } else if (userBirthDate < cutOff95) {
          dobErrMsg.innerHTML = "you have to be younger than 95";
        } else {
          dobErrMsg.innerHTML = "";
        }
        return userBirthDate; // Return the date instead of an undefined variable
    }
</script>
<style type="text/css">
    .PAN
    {
        text-transform: uppercase;
    }
    .error
    {
        color: Red;
        visibility: hidden;
    }
</style>
<body>
    <h3 style="color: #27ae60;">
        10. Create an HTML page to input PAN number, name, and date of birth. Verify the correctness of the each field(preferably with regular expression).
</h3>
    <p>Full Name: <input id="name" value="">
    <span id="nameErrMsg"></span></p>
    PAN Card:
    <input name="txtPANCard" type="text" id="txtPANCard" class="PAN" />
    <span id="lblPANCard" class="error">Invalid PAN Number</span>
    <p>
        <label for="dob">Date of Birth</label>
        <input type="text" name="dob" id="dob" maxlength="10" placeholder="dd/mm/yyyy" pattern="([0-9]{2})\/([0-9]{2})\/([0-9]{4})" required="required" />
        <span id="dobErrMsg"></span>
      </p>
    <hr />
    <input type="button" id="btnSubmit" value="Submit" onclick="Validate()" />
</body>

</html>